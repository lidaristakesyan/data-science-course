<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lecture 2: Databases & SQL</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #ffffff; color: #333333; overflow: hidden; }
        .presentation-container { width: 100vw; height: 100vh; display: flex; flex-direction: column; }
        .slide { display: none; flex: 1; padding: 50px; overflow-y: auto; }
        .slide.active { display: flex; flex-direction: column; }
        .slide-content { border: 2px solid #333333; padding: 50px; flex: 1; display: flex; flex-direction: column; }
        h1 { font-size: 3em; margin-bottom: 15px; padding-bottom: 15px; border-bottom: 4px solid #333333; font-weight: 700; }
        .subtitle { font-size: 1.2em; color: #666666; margin-bottom: 35px; }
        .description { font-size: 1.2em; color: #555555; line-height: 1.8; margin-bottom: 30px; padding: 20px; background: #f5f5f5; border-left: 6px solid #333333; }
        .content-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; }
        .section { border: 2px solid #666666; padding: 25px; background: #fafafa; }
        .section-header { font-size: 1.3em; font-weight: 700; margin-bottom: 15px; }
        .item-list { list-style: none; }
        .item-list li { padding: 12px 0; border-bottom: 1px solid #dddddd; color: #555555; line-height: 1.5; }
        .item-list li:last-child { border-bottom: none; }
        .comparison-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        .comparison-table th, .comparison-table td { border: 2px solid #666666; padding: 15px; text-align: left; }
        .comparison-table th { background: #333333; color: #ffffff; font-weight: 700; }
        .comparison-table td { background: #fafafa; color: #555555; line-height: 1.6; }
        .code-block { background: #333333; color: #ffffff; padding: 25px; font-family: 'Courier New', monospace; font-size: 1.05em; line-height: 1.8; margin: 20px 0; white-space: pre-wrap; }
        .architecture-diagram { background: #f5f5f5; border: 3px solid #333333; padding: 30px; text-align: center; margin: 20px 0; }
        .box { background: #fafafa; border: 2px solid #666666; padding: 20px 30px; font-weight: 700; min-width: 150px; text-align: center; }
        .master-box { background: #333333; color: #ffffff; padding: 20px 30px; font-weight: 700; min-width: 180px; text-align: center; }
        .arrow { font-size: 2.5em; color: #666666; }
        .visual-table { background: #fafafa; border: 3px solid #333333; padding: 20px; margin: 20px 0; font-family: 'Courier New', monospace; }
        .table-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 2px; margin: 2px 0; }
        .table-cell { background: #ffffff; border: 1px solid #666666; padding: 10px; text-align: center; }
        .table-header { background: #333333; color: #ffffff; font-weight: 700; }
        .table-pk { background: #e0e0e0; font-weight: 700; }
        .problem-box { background: #ffebeb; border: 3px solid #cc0000; padding: 25px; margin: 20px 0; }
        .solution-box { background: #e8f5e9; border: 3px solid #2e7d32; padding: 25px; margin: 20px 0; }
        .highlight-box { background: #333333; color: #ffffff; padding: 25px; margin: 20px 0; text-align: center; font-weight: 600; line-height: 1.8; font-size: 1.1em; }
        .systems-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin: 20px 0; }
        .system-box { border: 2px solid #666666; padding: 15px; background: #fafafa; }
        .system-title { font-weight: 700; margin-bottom: 10px; font-size: 1.1em; }
        .navigation { position: fixed; bottom: 0; left: 0; right: 0; background: #ffffff; border-top: 2px solid #333333; padding: 20px; display: flex; justify-content: space-between; align-items: center; }
        .nav-button { padding: 12px 24px; background: #333333; color: #ffffff; border: 2px solid #333333; font-weight: 700; font-size: 1em; cursor: pointer; transition: all 0.3s ease; }
        .nav-button:hover:not(:disabled) { background: #ffffff; color: #333333; }
        .nav-button:disabled { background: #cccccc; border-color: #cccccc; color: #999999; cursor: not-allowed; }
        .slide-counter { font-weight: 700; color: #666666; font-size: 1.1em; }
        .vs-container { display: flex; gap: 30px; margin: 30px 0; }
        .vs-side { flex: 1; border: 3px solid #666666; padding: 25px; background: #fafafa; }
        .vs-title { font-size: 1.5em; font-weight: 700; text-align: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #333333; }
        .feature-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin: 20px 0; }
        .feature-box { border: 2px solid #666666; padding: 20px; background: #fafafa; }
        .feature-title { font-weight: 700; font-size: 1.1em; margin-bottom: 10px; color: #333333; }
        .db-card { border: 3px solid #666666; padding: 20px; background: #fafafa; text-align: center; }
        .db-icon { font-size: 2.5em; margin-bottom: 10px; }
        .db-name { font-weight: 700; font-size: 1.2em; margin-bottom: 8px; }
        .db-desc { font-size: 0.9em; color: #666; }
        .five-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin: 20px 0; }
        .small-table { font-size: 0.85em; }
        .small-table th, .small-table td { padding: 8px; }
    </style>
</head>
<body>
    <div class="presentation-container">
        <!-- Slide 1: Title -->
        <div class="slide active" data-slide="1">
            <div class="slide-content">
                <h1 style="text-align: center;">Lecture 2: Databases & SQL</h1>
                <div style="text-align: center; margin: 40px 0;">
                    <div style="font-size: 5em; margin-bottom: 20px;">üóÑÔ∏è</div>
                    <div style="font-size: 1.5em; color: #666666; line-height: 1.8;">Storing Structured Data<br>Data Engineering Fundamentals for Data Scientists</div>
                </div>
                <div class="highlight-box">Relational databases are the backbone of most modern applications.<br>Understanding how they work is essential for data scientists.</div>
            </div>
        </div>

        <!-- Slide 2: What is a Relational Database -->
        <div class="slide" data-slide="2">
            <div class="slide-content">
                <h1>What is a Relational Database?</h1>
                <div class="subtitle">Organizing data into tables with relationships</div>
                <div class="description">A relational database organizes data into <strong>tables</strong> (also called relations) with rows, columns, and relationships between them.</div>
                <div class="architecture-diagram">
                    <div style="text-align: left; padding: 20px;">
                        <div style="font-weight: 700; margin-bottom: 15px;">TABLE: customers</div>
                        <div class="visual-table">
                            <div class="table-row">
                                <div class="table-cell table-header">customer_id</div>
                                <div class="table-cell table-header">name</div>
                                <div class="table-cell table-header">email</div>
                                <div class="table-cell table-header">city</div>
                            </div>
                            <div class="table-row">
                                <div class="table-cell table-pk">1</div>
                                <div class="table-cell">Alice</div>
                                <div class="table-cell">alice@...</div>
                                <div class="table-cell">NYC</div>
                            </div>
                            <div class="table-row">
                                <div class="table-cell table-pk">2</div>
                                <div class="table-cell">Bob</div>
                                <div class="table-cell">bob@...</div>
                                <div class="table-cell">LA</div>
                            </div>
                        </div>
                        <div class="arrow" style="text-align: center;">‚Üì (foreign key relationship)</div>
                        <div style="font-weight: 700; margin: 15px 0;">TABLE: orders</div>
                        <div class="visual-table">
                            <div class="table-row">
                                <div class="table-cell table-header">order_id</div>
                                <div class="table-cell table-header">customer_id</div>
                                <div class="table-cell table-header">date</div>
                                <div class="table-cell table-header">amount</div>
                            </div>
                            <div class="table-row">
                                <div class="table-cell table-pk">101</div>
                                <div class="table-cell">1</div>
                                <div class="table-cell">2025-11-01</div>
                                <div class="table-cell">50.00</div>
                            </div>
                            <div class="table-row">
                                <div class="table-cell table-pk">102</div>
                                <div class="table-cell">1</div>
                                <div class="table-cell">2025-11-15</div>
                                <div class="table-cell">75.50</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 3: Key Concepts -->
        <div class="slide" data-slide="3">
            <div class="slide-content">
                <h1>Key Concepts</h1>
                <div class="subtitle">Primary Keys, Foreign Keys, and Data Types</div>
                <div class="content-grid">
                    <div class="section">
                        <div class="section-header">Primary Keys</div>
                        <p style="color: #555; margin-bottom: 15px;">Unique identifier for each row in a table.</p>
                        <div class="code-block" style="font-size: 0.9em; padding: 15px;">CREATE TABLE customers (
    customer_id INT PRIMARY KEY,
    name VARCHAR(100),
    email VARCHAR(100) UNIQUE
);</div>
                    </div>
                    <div class="section">
                        <div class="section-header">Foreign Keys</div>
                        <p style="color: #555; margin-bottom: 15px;">Links to primary keys in other tables.</p>
                        <div class="code-block" style="font-size: 0.9em; padding: 15px;">CREATE TABLE orders (
    order_id INT PRIMARY KEY,
    customer_id INT,
    FOREIGN KEY (customer_id) 
      REFERENCES customers(customer_id)
);</div>
                    </div>
                </div>
                <div class="highlight-box" style="margin-top: 20px;">Primary Key = Unique identifier ‚Ä¢ Foreign Key = Relationship to another table</div>
            </div>
        </div>

        <!-- Slide 4: Primary Key Deep Dive -->
        <div class="slide" data-slide="4">
            <div class="slide-content">
                <h1>Primary Key (PK)</h1>
                <div class="subtitle">The unique identifier for each row</div>
                <div class="description">A Primary Key is a column (or columns) that <strong>uniquely identifies each row</strong> in a table. Think of it like your passport number ‚Äî unique to you.</div>
                <div class="content-grid">
                    <div class="section">
                        <div class="section-header">Rules for Primary Keys</div>
                        <ul class="item-list">
                            <li><strong>Must be unique</strong> ‚Äî no duplicates allowed</li>
                            <li><strong>Cannot be NULL</strong> ‚Äî every row needs a value</li>
                            <li><strong>Every table should have one</strong></li>
                        </ul>
                    </div>
                    <div class="section">
                        <div class="section-header">Example: Students Table</div>
                        <div class="visual-table" style="font-size: 0.9em;">
                            <div class="table-row" style="grid-template-columns: 1fr 1fr;">
                                <div class="table-cell table-header">StudentID (PK)</div>
                                <div class="table-cell table-header">Name</div>
                            </div>
                            <div class="table-row" style="grid-template-columns: 1fr 1fr;">
                                <div class="table-cell table-pk">1</div>
                                <div class="table-cell">Anna</div>
                            </div>
                            <div class="table-row" style="grid-template-columns: 1fr 1fr;">
                                <div class="table-cell table-pk">2</div>
                                <div class="table-cell">Bob</div>
                            </div>
                            <div class="table-row" style="grid-template-columns: 1fr 1fr;">
                                <div class="table-cell table-pk">3</div>
                                <div class="table-cell">Carol</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="highlight-box" style="margin-top: 20px;">PK = "This is my unique ID" ‚Äî Like your passport number (unique to you)</div>
            </div>
        </div>

        <!-- Slide 5: Foreign Key Deep Dive -->
        <div class="slide" data-slide="5">
            <div class="slide-content">
                <h1>Foreign Key (FK)</h1>
                <div class="subtitle">The connection between tables</div>
                <div class="description">A Foreign Key is a column that <strong>points to a Primary Key in another table</strong>. It creates the relationship between tables.</div>
                <div class="architecture-diagram">
                    <div style="display: flex; justify-content: space-around; align-items: flex-start; flex-wrap: wrap; gap: 20px;">
                        <div style="text-align: left;">
                            <div style="font-weight: 700; margin-bottom: 10px;">Students Table</div>
                            <div class="visual-table" style="font-size: 0.85em;">
                                <div class="table-row" style="grid-template-columns: 1fr 1fr;">
                                    <div class="table-cell table-header">StudentID (PK)</div>
                                    <div class="table-cell table-header">Name</div>
                                </div>
                                <div class="table-row" style="grid-template-columns: 1fr 1fr;">
                                    <div class="table-cell table-pk">1</div>
                                    <div class="table-cell">Anna</div>
                                </div>
                                <div class="table-row" style="grid-template-columns: 1fr 1fr;">
                                    <div class="table-cell table-pk">2</div>
                                    <div class="table-cell">Bob</div>
                                </div>
                            </div>
                        </div>
                        <div style="font-size: 3em; align-self: center;">‚óÑ‚îÄ‚îÄ‚îÄ</div>
                        <div style="text-align: left;">
                            <div style="font-weight: 700; margin-bottom: 10px;">Enrollments Table</div>
                            <div class="visual-table" style="font-size: 0.85em;">
                                <div class="table-row" style="grid-template-columns: 1fr 1fr;">
                                    <div class="table-cell table-header">StudentID (FK)</div>
                                    <div class="table-cell table-header">CourseID (FK)</div>
                                </div>
                                <div class="table-row" style="grid-template-columns: 1fr 1fr;">
                                    <div class="table-cell" style="background: #cce5ff;">1</div>
                                    <div class="table-cell">101</div>
                                </div>
                                <div class="table-row" style="grid-template-columns: 1fr 1fr;">
                                    <div class="table-cell" style="background: #cce5ff;">1</div>
                                    <div class="table-cell">102</div>
                                </div>
                                <div class="table-row" style="grid-template-columns: 1fr 1fr;">
                                    <div class="table-cell" style="background: #cce5ff;">2</div>
                                    <div class="table-cell">101</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="highlight-box" style="margin-top: 20px;">FK = "I belong to that record over there" ‚Äî Like your passport number written on your luggage</div>
            </div>
        </div>

        <!-- Slide 6: How Tables Connect - Visual -->
        <div class="slide" data-slide="6">
            <div class="slide-content">
                <h1>How Tables Connect</h1>
                <div class="subtitle">Visual diagram of PK/FK relationships</div>
                <div class="architecture-diagram" style="padding: 40px;">
                    <pre style="font-family: 'Courier New', monospace; font-size: 1em; line-height: 1.6; text-align: left; display: inline-block;">
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    Students     ‚îÇ         ‚îÇ    Courses      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§         ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ StudentID (PK)  ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ CourseID (PK)   ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Name            ‚îÇ    ‚îÇ    ‚îÇ CourseName      ‚îÇ    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ    ‚îÇ Teacher         ‚îÇ    ‚îÇ
                       ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
                       ‚îÇ                           ‚îÇ
                       ‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
                       ‚îÇ    ‚îÇ   Enrollments   ‚îÇ    ‚îÇ
                       ‚îÇ    ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§    ‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ StudentID (FK)  ‚îÇ    ‚îÇ
                            ‚îÇ CourseID (FK)   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    </pre>
                </div>
                <div class="solution-box" style="margin-top: 20px;">
                    <div class="section-header" style="color: #2e7d32;">What FK Actually Does</div>
                    <p style="color: #555;">Foreign Keys <strong>enforce data integrity</strong> ‚Äî they prevent orphan records:</p>
                    <ul class="item-list">
                        <li>‚ùå Can't add enrollment for non-existent student</li>
                        <li>‚ùå Can't delete a student who has enrollments (without handling them first)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 7: Relationship Types -->
        <div class="slide" data-slide="7">
            <div class="slide-content">
                <h1>Types of Relationships</h1>
                <div class="subtitle">One-to-Many, One-to-One, Many-to-Many</div>
                <div class="systems-grid">
                    <div class="section">
                        <div class="system-title">1Ô∏è‚É£ One-to-Many (Most Common)</div>
                        <p style="color: #555; margin: 10px 0;">One student has many enrollments</p>
                        <div class="code-block" style="font-size: 0.8em; padding: 10px;">Students (1) ‚îÄ‚îÄ‚îÄ‚îÄ< Enrollments (Many)

Anna ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ Math
       ‚îú‚îÄ‚îÄ Physics
       ‚îî‚îÄ‚îÄ Chemistry</div>
                        <p style="color: #666; font-size: 0.9em; margin-top: 10px;"><strong>How:</strong> Put FK in the "many" side table</p>
                    </div>
                    <div class="section">
                        <div class="system-title">2Ô∏è‚É£ One-to-One (Rare)</div>
                        <p style="color: #555; margin: 10px 0;">One student has one profile</p>
                        <div class="code-block" style="font-size: 0.8em; padding: 10px;">Students (1) ‚îÄ‚îÄ‚îÄ‚îÄ Profile (1)

Anna ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Anna's Profile</div>
                        <p style="color: #666; font-size: 0.9em; margin-top: 10px;"><strong>How:</strong> FK in either table (usually optional one)</p>
                    </div>
                    <div class="section">
                        <div class="system-title">3Ô∏è‚É£ Many-to-Many</div>
                        <p style="color: #555; margin: 10px 0;">Many students take many courses</p>
                        <div class="code-block" style="font-size: 0.8em; padding: 10px;">Students >‚îÄ‚îÄ‚îÄ‚îÄ< Courses

(needs junction table!)</div>
                        <p style="color: #666; font-size: 0.9em; margin-top: 10px;"><strong>How:</strong> Create a <strong>junction table</strong> with two FKs</p>
                    </div>
                </div>
                <table class="comparison-table small-table" style="margin-top: 20px;">
                    <thead><tr><th>Table Type</th><th>Primary Key?</th><th>Foreign Key?</th></tr></thead>
                    <tbody>
                        <tr><td>Main entities (Students, Courses)</td><td>‚úÖ Always</td><td>Maybe (if references another table)</td></tr>
                        <tr><td>Junction tables (Enrollments)</td><td>‚úÖ Always (often composite)</td><td>‚úÖ Always (that's their purpose)</td></tr>
                        <tr><td>Lookup tables (Countries, Status)</td><td>‚úÖ Always</td><td>Rarely</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Slide 12: SQL Data Types -->
        <div class="slide" data-slide="8">
            <div class="slide-content">
                <h1>SQL Data Types</h1>
                <div class="subtitle">Common data types in relational databases</div>
                <table class="comparison-table">
                    <thead><tr><th>Category</th><th>Type</th><th>Description</th><th>Example</th></tr></thead>
                    <tbody>
                        <tr><td rowspan="3"><strong>Numeric</strong></td><td>INT, BIGINT</td><td>Integers</td><td>42, 1000000</td></tr>
                        <tr><td>DECIMAL(p,s)</td><td>Fixed precision</td><td>19.99, 100.50</td></tr>
                        <tr><td>FLOAT, DOUBLE</td><td>Floating point</td><td>3.14159</td></tr>
                        <tr><td rowspan="3"><strong>String</strong></td><td>VARCHAR(n)</td><td>Variable length</td><td>'Alice', 'hello'</td></tr>
                        <tr><td>CHAR(n)</td><td>Fixed length</td><td>'US', 'CA'</td></tr>
                        <tr><td>TEXT</td><td>Long text</td><td>Article content</td></tr>
                        <tr><td rowspan="2"><strong>Date/Time</strong></td><td>DATE</td><td>Date only</td><td>2025-11-29</td></tr>
                        <tr><td>TIMESTAMP</td><td>Date and time</td><td>2025-11-29 14:30:00</td></tr>
                        <tr><td><strong>Boolean</strong></td><td>BOOLEAN</td><td>True/False</td><td>TRUE, FALSE</td></tr>
                        <tr><td><strong>Other</strong></td><td>JSON</td><td>JSON data</td><td>{"key": "value"}</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Slide 9: The Problem - Non-Normalized Database -->
        <div class="slide" data-slide="9">
            <div class="slide-content">
                <h1>The Problem: Non-Normalized Data</h1>
                <div class="subtitle">What happens when we store everything in one table?</div>
                <div class="description">Consider this <strong>non-normalized</strong> table storing order information. All data is crammed into a single table.</div>
                <div class="visual-table" style="font-size: 0.85em; overflow-x: auto;">
                    <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px; min-width: 800px;">
                        <div class="table-cell table-header">order_id</div>
                        <div class="table-cell table-header">customer_name</div>
                        <div class="table-cell table-header">customer_email</div>
                        <div class="table-cell table-header">city</div>
                        <div class="table-cell table-header">product</div>
                        <div class="table-cell table-header">price</div>
                        <div class="table-cell table-header">qty</div>
                        <div class="table-cell table-pk">101</div>
                        <div class="table-cell" style="background: #fff3cd;">Alice</div>
                        <div class="table-cell" style="background: #fff3cd;"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d5b4b9bcb6b095b0b8b4bcb9fbb6bab8">[email&#160;protected]</a></div>
                        <div class="table-cell" style="background: #fff3cd;">NYC</div>
                        <div class="table-cell">Laptop</div>
                        <div class="table-cell" style="background: #d4edda;">999.00</div>
                        <div class="table-cell">1</div>
                        <div class="table-cell table-pk">102</div>
                        <div class="table-cell" style="background: #fff3cd;">Alice</div>
                        <div class="table-cell" style="background: #fff3cd;"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="01606d68626441646c60686d2f626e6c">[email&#160;protected]</a></div>
                        <div class="table-cell" style="background: #fff3cd;">NYC</div>
                        <div class="table-cell">Mouse</div>
                        <div class="table-cell">29.00</div>
                        <div class="table-cell">2</div>
                        <div class="table-cell table-pk">103</div>
                        <div class="table-cell" style="background: #fff3cd;">Alice</div>
                        <div class="table-cell" style="background: #fff3cd;"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d6b7babfb5b396b3bbb7bfbaf8b5b9bb">[email&#160;protected]</a></div>
                        <div class="table-cell" style="background: #fff3cd;">NYC</div>
                        <div class="table-cell">Keyboard</div>
                        <div class="table-cell">79.00</div>
                        <div class="table-cell">1</div>
                        <div class="table-cell table-pk">104</div>
                        <div class="table-cell" style="background: #cce5ff;">Bob</div>
                        <div class="table-cell" style="background: #cce5ff;"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="33515c5173565e525a5f1d505c5e">[email&#160;protected]</a></div>
                        <div class="table-cell" style="background: #cce5ff;">LA</div>
                        <div class="table-cell">Laptop</div>
                        <div class="table-cell" style="background: #d4edda;">999.00</div>
                        <div class="table-cell">1</div>
                    </div>
                </div>
                <div class="problem-box" style="margin-top: 20px;">
                    <div class="section-header" style="color: #cc0000;">üö® Problems Identified</div>
                    <ul class="item-list">
                        <li><strong>Data Redundancy:</strong> Alice's info repeated 3 times, "Laptop" price stored twice</li>
                        <li><strong>Wasted Storage:</strong> Same data stored multiple times</li>
                        <li><strong>Maintenance Nightmare:</strong> Changes require updating multiple rows</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 10: Anomalies -->
        <div class="slide" data-slide="10">
            <div class="slide-content">
                <h1>Database Anomalies</h1>
                <div class="subtitle">The three deadly problems of non-normalized databases</div>
                <div class="systems-grid">
                    <div class="problem-box">
                        <div class="system-title" style="color: #cc0000;">üîÑ Update Anomaly</div>
                        <p style="color: #555; margin-bottom: 15px;">If Alice changes her email, you must update <strong>every row</strong>:</p>
                        <div class="code-block" style="font-size: 0.8em; padding: 10px;">-- Must update 3 rows!
UPDATE orders
SET email = 'alice.new@...'
WHERE customer_name = 'Alice';</div>
                        <p style="color: #cc0000; margin-top: 10px; font-size: 0.9em;"><strong>Risk:</strong> Inconsistent data if rows missed</p>
                    </div>
                    <div class="problem-box">
                        <div class="system-title" style="color: #cc0000;">‚ûï Insert Anomaly</div>
                        <p style="color: #555; margin-bottom: 15px;">Can't add a customer until they place an order:</p>
                        <div class="code-block" style="font-size: 0.8em; padding: 10px;">-- FAILS! What about 
-- order_id, product, etc.?
INSERT INTO orders 
  (customer_name, email)
VALUES ('Charlie', '...');</div>
                        <p style="color: #cc0000; margin-top: 10px; font-size: 0.9em;"><strong>Risk:</strong> Cannot store valid data</p>
                    </div>
                    <div class="problem-box">
                        <div class="system-title" style="color: #cc0000;">üóëÔ∏è Delete Anomaly</div>
                        <p style="color: #555; margin-bottom: 15px;">Deleting Bob's orders <strong>loses Bob entirely</strong>:</p>
                        <div class="code-block" style="font-size: 0.8em; padding: 10px;">-- Bob is gone forever!
DELETE FROM orders
WHERE customer_name = 'Bob';</div>
                        <p style="color: #cc0000; margin-top: 10px; font-size: 0.9em;"><strong>Risk:</strong> Unintentional data loss</p>
                    </div>
                </div>
                <div class="highlight-box" style="margin-top: 20px;">These anomalies make non-normalized databases unreliable and hard to maintain</div>
            </div>
        </div>

        <!-- Slide 11: What is Normalization -->
        <div class="slide" data-slide="11">
            <div class="slide-content">
                <h1>The Solution: Normalization</h1>
                <div class="subtitle">Organizing data to eliminate redundancy and anomalies</div>
                <div class="description"><strong>Normalization</strong> is the process of splitting data into multiple related tables, each storing one type of entity. This eliminates redundancy and prevents anomalies.</div>
                <div class="architecture-diagram">
                    <div style="display: flex; justify-content: center; align-items: center; gap: 30px; flex-wrap: wrap;">
                        <div class="box" style="min-width: 180px;"><strong>customers</strong><br><small style="color: #666;">customer_id, name, email</small></div>
                        <div class="box" style="min-width: 180px;"><strong>products</strong><br><small style="color: #666;">product_id, name, price</small></div>
                        <div class="box" style="min-width: 180px;"><strong>orders</strong><br><small style="color: #666;">order_id, customer_id, date</small></div>
                        <div class="box" style="min-width: 180px;"><strong>order_items</strong><br><small style="color: #666;">order_id, product_id, qty</small></div>
                    </div>
                </div>
                <div class="solution-box" style="margin-top: 20px;">
                    <div class="section-header" style="color: #2e7d32;">‚úÖ Benefits of Normalization</div>
                    <div class="content-grid" style="margin-top: 15px;">
                        <ul class="item-list">
                            <li><strong>No Redundancy</strong> - Each fact stored once</li>
                            <li><strong>Easy Updates</strong> - Change data in one place</li>
                            <li><strong>Data Integrity</strong> - Foreign keys ensure valid relationships</li>
                        </ul>
                        <ul class="item-list">
                            <li><strong>No Insert Anomalies</strong> - Add entities independently</li>
                            <li><strong>No Delete Anomalies</strong> - Remove data safely</li>
                            <li><strong>Smaller Storage</strong> - No duplicate data</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 12: Normal Forms -->
        <div class="slide" data-slide="12">
            <div class="slide-content">
                <h1>Normal Forms: 1NF, 2NF, 3NF</h1>
                <div class="subtitle">Progressive levels of normalization</div>
                <div class="systems-grid">
                    <div class="section">
                        <div class="section-header">1Ô∏è‚É£ First Normal Form (1NF)</div>
                        <ul class="item-list">
                            <li>Each column has <strong>atomic</strong> values</li>
                            <li>No repeating groups or arrays</li>
                            <li>Each row is unique (has PK)</li>
                        </ul>
                        <div class="problem-box" style="margin-top: 10px; padding: 10px;"><small><strong>Violation:</strong> products = "Laptop, Mouse"</small></div>
                    </div>
                    <div class="section">
                        <div class="section-header">2Ô∏è‚É£ Second Normal Form (2NF)</div>
                        <ul class="item-list">
                            <li>Must be in 1NF</li>
                            <li>No <strong>partial dependencies</strong></li>
                            <li>All columns depend on entire PK</li>
                        </ul>
                        <div class="problem-box" style="margin-top: 10px; padding: 10px;"><small><strong>Violation:</strong> product_name depends only on product_id</small></div>
                    </div>
                    <div class="section">
                        <div class="section-header">3Ô∏è‚É£ Third Normal Form (3NF)</div>
                        <ul class="item-list">
                            <li>Must be in 2NF</li>
                            <li>No <strong>transitive dependencies</strong></li>
                            <li>Non-key columns don't depend on each other</li>
                        </ul>
                        <div class="problem-box" style="margin-top: 10px; padding: 10px;"><small><strong>Violation:</strong> city_zip depends on city, not customer_id</small></div>
                    </div>
                </div>
                <div class="highlight-box" style="margin-top: 20px;">Most production databases aim for <strong>3NF</strong> - it provides good balance of integrity and performance</div>
            </div>
        </div>

        <!-- Slide 13: 1NF Example -->
        <div class="slide" data-slide="13">
            <div class="slide-content">
                <h1>First Normal Form (1NF)</h1>
                <div class="subtitle">Atomic values only - no repeating groups</div>
                <div class="vs-container">
                    <div class="vs-side">
                        <div class="vs-title" style="color: #cc0000;">‚ùå Violates 1NF</div>
                        <div class="visual-table" style="font-size: 0.85em;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr 2fr; gap: 2px;">
                                <div class="table-cell table-header">order_id</div>
                                <div class="table-cell table-header">customer</div>
                                <div class="table-cell table-header">products</div>
                                <div class="table-cell table-pk">101</div>
                                <div class="table-cell">Alice</div>
                                <div class="table-cell" style="background: #ffebeb;">Laptop, Mouse, Keyboard</div>
                            </div>
                        </div>
                        <p style="color: #cc0000; margin-top: 15px; font-size: 0.9em;">‚ö†Ô∏è Multiple values in one cell!<br>Can't query individual products easily.</p>
                    </div>
                    <div class="vs-side">
                        <div class="vs-title" style="color: #2e7d32;">‚úÖ 1NF Compliant</div>
                        <div class="visual-table" style="font-size: 0.85em;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 2px;">
                                <div class="table-cell table-header">order_id</div>
                                <div class="table-cell table-header">customer</div>
                                <div class="table-cell table-header">product</div>
                                <div class="table-cell table-pk">101</div>
                                <div class="table-cell">Alice</div>
                                <div class="table-cell" style="background: #e8f5e9;">Laptop</div>
                                <div class="table-cell table-pk">101</div>
                                <div class="table-cell">Alice</div>
                                <div class="table-cell" style="background: #e8f5e9;">Mouse</div>
                                <div class="table-cell table-pk">101</div>
                                <div class="table-cell">Alice</div>
                                <div class="table-cell" style="background: #e8f5e9;">Keyboard</div>
                            </div>
                        </div>
                        <p style="color: #2e7d32; margin-top: 15px; font-size: 0.9em;">‚úì One value per cell<br>‚úì Easy to query and filter</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 14: 2NF & 3NF Examples -->
        <div class="slide" data-slide="14">
            <div class="slide-content">
                <h1>2NF & 3NF Examples</h1>
                <div class="subtitle">Eliminating partial and transitive dependencies</div>
                <div class="content-grid">
                    <div class="section">
                        <div class="section-header" style="color: #cc0000;">‚ùå 2NF Violation</div>
                        <p style="color: #555; font-size: 0.9em; margin-bottom: 10px;">Composite PK: (order_id + product_id)</p>
                        <div class="code-block" style="font-size: 0.75em; padding: 10px;">order_id | product_id | customer | product_name
---------|------------|----------|-------------
  101    |     1      |  Alice   |   Laptop</div>
                        <p style="color: #cc0000; font-size: 0.85em; margin-top: 10px;">customer depends only on order_id<br>product_name depends only on product_id<br><strong>= Partial dependencies!</strong></p>
                    </div>
                    <div class="section">
                        <div class="section-header" style="color: #2e7d32;">‚úÖ 2NF Solution</div>
                        <p style="color: #555; font-size: 0.9em; margin-bottom: 10px;">Split into separate tables:</p>
                        <div class="code-block" style="font-size: 0.75em; padding: 10px;">orders:      (order_id, customer_id)
products:    (product_id, product_name)
order_items: (order_id, product_id, qty)</div>
                        <p style="color: #2e7d32; font-size: 0.85em; margin-top: 10px;">Each non-key column depends on<br><strong>the entire primary key</strong></p>
                    </div>
                </div>
                <div class="content-grid" style="margin-top: 20px;">
                    <div class="section">
                        <div class="section-header" style="color: #cc0000;">‚ùå 3NF Violation</div>
                        <div class="code-block" style="font-size: 0.75em; padding: 10px;">customer_id | name  | city | city_zip
------------|-------|------|--------
     1      | Alice | NYC  | 10001</div>
                        <p style="color: #cc0000; font-size: 0.85em; margin-top: 10px;">city_zip depends on city, not customer_id<br><strong>= Transitive dependency!</strong></p>
                    </div>
                    <div class="section">
                        <div class="section-header" style="color: #2e7d32;">‚úÖ 3NF Solution</div>
                        <div class="code-block" style="font-size: 0.75em; padding: 10px;">customers: (customer_id, name, city_id)
cities:    (city_id, city_name, zip_code)</div>
                        <p style="color: #2e7d32; font-size: 0.85em; margin-top: 10px;">No non-key column depends on<br><strong>another non-key column</strong></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 15: Normalized Design -->
        <div class="slide" data-slide="15">
            <div class="slide-content">
                <h1>Normalized Database Design</h1>
                <div class="subtitle">The proper way to structure our order system</div>
                <div class="architecture-diagram">
                    <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; padding: 15px;">
                        <div class="box" style="min-width: 200px; text-align: left; padding: 15px;"><strong style="font-size: 1.1em;">customers</strong><br><small style="color: #666;">customer_id (PK)<br>name<br>email<br>city</small></div>
                        <div class="box" style="min-width: 200px; text-align: left; padding: 15px;"><strong style="font-size: 1.1em;">products</strong><br><small style="color: #666;">product_id (PK)<br>name<br>price</small></div>
                        <div class="box" style="min-width: 200px; text-align: left; padding: 15px;"><strong style="font-size: 1.1em;">orders</strong><br><small style="color: #666;">order_id (PK)<br>customer_id (FK)<br>order_date</small></div>
                        <div class="box" style="min-width: 200px; text-align: left; padding: 15px;"><strong style="font-size: 1.1em;">order_items</strong><br><small style="color: #666;">order_id (FK)<br>product_id (FK)<br>quantity</small></div>
                    </div>
                </div>
                <table class="comparison-table" style="margin-top: 20px;">
                    <thead><tr><th>Benefit</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><strong>No Redundancy</strong></td><td>Customer info stored once, product info stored once</td></tr>
                        <tr><td><strong>Easy Updates</strong></td><td>Change Alice's email in one place only</td></tr>
                        <tr><td><strong>No Insert Anomalies</strong></td><td>Can add customers without orders, products without sales</td></tr>
                        <tr><td><strong>No Delete Anomalies</strong></td><td>Deleting an order doesn't delete customer or product info</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Slide 16: When to Denormalize -->
        <div class="slide" data-slide="16">
            <div class="slide-content">
                <h1>When to Denormalize?</h1>
                <div class="subtitle">Sometimes breaking the rules makes sense</div>
                <div class="description">While normalization is generally good, sometimes <strong>denormalization</strong> is used intentionally for performance reasons.</div>
                <table class="comparison-table">
                    <thead><tr><th>Scenario</th><th>Why Denormalize?</th></tr></thead>
                    <tbody>
                        <tr><td><strong>Read-heavy workloads</strong></td><td>JOINs are expensive; pre-joining data speeds up reads</td></tr>
                        <tr><td><strong>Data warehouses</strong></td><td>Analytics queries benefit from denormalized star schemas</td></tr>
                        <tr><td><strong>Caching layers</strong></td><td>Store computed/aggregated values for performance</td></tr>
                        <tr><td><strong>Reporting tables</strong></td><td>Pre-aggregate data for dashboards</td></tr>
                    </tbody>
                </table>
                <div class="highlight-box" style="margin-top: 25px;"><strong>Rule of Thumb:</strong><br>Normalize for <strong>OLTP</strong> (transactions) ‚Ä¢ Denormalize for <strong>OLAP</strong> (analytics)</div>
            </div>
        </div>

        <!-- Slide 17: Popular Relational Databases -->
        <div class="slide" data-slide="17">
            <div class="slide-content">
                <h1>Popular Relational Databases</h1>
                <div class="subtitle">Each has unique strengths and use cases</div>
                
                <div class="five-grid">
                    <div class="db-card">
                        <div class="db-icon">üêò</div>
                        <div class="db-name">PostgreSQL</div>
                        <div class="db-desc">Most advanced open-source. Best for complex queries & data integrity.</div>
                    </div>
                    <div class="db-card">
                        <div class="db-icon">üê¨</div>
                        <div class="db-name">MySQL</div>
                        <div class="db-desc">Most popular. Fast reads, great for web apps.</div>
                    </div>
                    <div class="db-card">
                        <div class="db-icon">ü™ü</div>
                        <div class="db-name">SQL Server</div>
                        <div class="db-desc">Microsoft enterprise. Excellent BI integration.</div>
                    </div>
                    <div class="db-card">
                        <div class="db-icon">üî¥</div>
                        <div class="db-name">Oracle</div>
                        <div class="db-desc">Enterprise heavyweight. Maximum scale & features.</div>
                    </div>
                    <div class="db-card">
                        <div class="db-icon">üì¶</div>
                        <div class="db-name">SQLite</div>
                        <div class="db-desc">Embedded. Single file, perfect for mobile/desktop.</div>
                    </div>
                </div>
                
                <table class="comparison-table small-table" style="margin-top: 20px;">
                    <thead><tr><th>Database</th><th>License</th><th>Best For</th><th>Used By</th></tr></thead>
                    <tbody>
                        <tr><td><strong>PostgreSQL</strong></td><td>Open Source (Free)</td><td>Analytics, GIS, JSON</td><td>Apple, Instagram, Spotify</td></tr>
                        <tr><td><strong>MySQL</strong></td><td>Open Source (Free)</td><td>Web apps, Read-heavy</td><td>Facebook, Twitter, YouTube</td></tr>
                        <tr><td><strong>SQL Server</strong></td><td>Commercial ($$$$)</td><td>Enterprise, .NET, BI</td><td>Fortune 500, Banks</td></tr>
                        <tr><td><strong>Oracle</strong></td><td>Commercial ($$$$$)</td><td>Mission-critical, Scale</td><td>Banks, Telecom, Gov</td></tr>
                        <tr><td><strong>SQLite</strong></td><td>Public Domain (Free)</td><td>Mobile, Desktop, Testing</td><td>Every smartphone</td></tr>
                    </tbody>
                </table>
                
                <div class="highlight-box" style="margin-top: 15px;">
                    <strong>Low Memory?</strong> Use <strong>SQLite</strong> (embedded) or <strong>MySQL</strong> (server) ‚Ä¢ <strong>Data Science?</strong> Use <strong>PostgreSQL</strong>
                </div>
            </div>
        </div>

        <!-- Slide 18: SELECT -->
        <div class="slide" data-slide="18">
            <div class="slide-content">
                <h1>SELECT - Reading Data</h1>
                <div class="subtitle">The most fundamental SQL operation</div>
                <div class="content-grid">
                    <div class="section">
                        <div class="section-header">Basic SELECT</div>
                        <div class="code-block" style="font-size: 0.9em; padding: 15px;">-- Select all columns
SELECT * FROM customers;

-- Select specific columns
SELECT customer_id, name, email 
FROM customers;

-- With alias (renaming)
SELECT 
    customer_id AS id,
    name AS customer_name
FROM customers;</div>
                    </div>
                    <div class="section">
                        <div class="section-header">DISTINCT - Removing Duplicates</div>
                        <div class="code-block" style="font-size: 0.9em; padding: 15px;">-- Get unique cities
SELECT DISTINCT city 
FROM customers;

-- Count unique cities
SELECT COUNT(DISTINCT city) as num_cities 
FROM customers;</div>
                    </div>
                </div>
                <div class="highlight-box">SELECT is your primary tool for retrieving data from tables</div>
            </div>
        </div>

        <!-- Slide 19: WHERE -->
        <div class="slide" data-slide="19">
            <div class="slide-content">
                <h1>WHERE - Filtering Data</h1>
                <div class="subtitle">Filter rows based on conditions</div>
                <div class="code-block" style="font-size: 0.95em;">-- Simple condition
SELECT * FROM orders WHERE total_amount > 100;

-- Multiple conditions (AND)
SELECT * FROM orders
WHERE total_amount > 100 AND order_date >= '2025-01-01';

-- IN operator (match any value in list)
SELECT * FROM customers WHERE city IN ('NYC', 'LA', 'Chicago');

-- BETWEEN (inclusive range)
SELECT * FROM orders
WHERE order_date BETWEEN '2025-01-01' AND '2025-12-31';

-- LIKE (pattern matching)
SELECT * FROM customers WHERE email LIKE '%@gmail.com';

-- IS NULL / IS NOT NULL
SELECT * FROM customers WHERE phone IS NULL;</div>
            </div>
        </div>

        <!-- Slide 20: ORDER BY & LIMIT -->
        <div class="slide" data-slide="20">
            <div class="slide-content">
                <h1>ORDER BY & LIMIT</h1>
                <div class="subtitle">Sorting and restricting results</div>
                <div class="content-grid">
                    <div class="section">
                        <div class="section-header">ORDER BY - Sorting</div>
                        <div class="code-block" style="font-size: 0.85em; padding: 15px;">-- Sort ascending (default)
SELECT * FROM orders
ORDER BY total_amount;

-- Sort descending
SELECT * FROM orders
ORDER BY total_amount DESC;

-- Multiple columns
SELECT * FROM orders
ORDER BY customer_id ASC, order_date DESC;</div>
                    </div>
                    <div class="section">
                        <div class="section-header">LIMIT - Restricting Results</div>
                        <div class="code-block" style="font-size: 0.85em; padding: 15px;">-- Get first 10 rows
SELECT * FROM customers LIMIT 10;

-- Top 5 by order amount
SELECT customer_id, SUM(total_amount) as total
FROM orders
GROUP BY customer_id
ORDER BY total DESC
LIMIT 5;

-- Pagination (skip 10, get 10)
SELECT * FROM customers LIMIT 10 OFFSET 10;</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 21: Aggregate Functions -->
        <div class="slide" data-slide="21">
            <div class="slide-content">
                <h1>Aggregate Functions</h1>
                <div class="subtitle">Perform calculations on groups of rows</div>
                <div class="code-block" style="font-size: 1em;">-- COUNT - number of rows
SELECT COUNT(*) as total_customers FROM customers;

-- SUM - total of numeric column
SELECT SUM(total_amount) as total_revenue FROM orders;

-- AVG - average value
SELECT AVG(total_amount) as avg_order_value FROM orders;

-- MIN / MAX
SELECT MIN(total_amount) as min_order, MAX(total_amount) as max_order FROM orders;

-- Multiple aggregates together
SELECT 
    COUNT(*) as num_orders,
    SUM(total_amount) as total_revenue,
    AVG(total_amount) as avg_order,
    MIN(total_amount) as min_order,
    MAX(total_amount) as max_order
FROM orders;</div>
            </div>
        </div>

        <!-- Slide 22: GROUP BY -->
        <div class="slide" data-slide="22">
            <div class="slide-content">
                <h1>GROUP BY - Grouping Data</h1>
                <div class="subtitle">Group rows by column values and apply aggregates</div>
                <div class="code-block" style="font-size: 0.95em;">-- Orders per customer
SELECT 
    customer_id,
    COUNT(*) as num_orders,
    SUM(total_amount) as total_spent,
    AVG(total_amount) as avg_order_value
FROM orders
GROUP BY customer_id;

-- Orders per month
SELECT 
    DATE_TRUNC('month', order_date) as month,
    COUNT(*) as num_orders,
    SUM(total_amount) as monthly_revenue
FROM orders
GROUP BY DATE_TRUNC('month', order_date)
ORDER BY month;</div>
            </div>
        </div>

        <!-- Slide 23: HAVING -->
        <div class="slide" data-slide="23">
            <div class="slide-content">
                <h1>HAVING - Filtering Groups</h1>
                <div class="subtitle">WHERE filters rows, HAVING filters groups</div>
                <div class="vs-container">
                    <div class="vs-side">
                        <div class="vs-title">WHERE</div>
                        <p style="color: #555; margin-bottom: 15px;">Filters individual <strong>rows</strong> before grouping</p>
                        <div class="code-block" style="font-size: 0.85em; padding: 15px;">SELECT customer_id, COUNT(*)
FROM orders
WHERE order_date >= '2025-01-01'
GROUP BY customer_id;</div>
                    </div>
                    <div class="vs-side">
                        <div class="vs-title">HAVING</div>
                        <p style="color: #555; margin-bottom: 15px;">Filters <strong>groups</strong> after aggregation</p>
                        <div class="code-block" style="font-size: 0.85em; padding: 15px;">SELECT customer_id, COUNT(*)
FROM orders
GROUP BY customer_id
HAVING COUNT(*) > 5;</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 24: JOINs -->
        <div class="slide" data-slide="24">
            <div class="slide-content">
                <h1>JOINs - Combining Tables</h1>
                <div class="subtitle">Crucial for working with normalized relational databases</div>
                <div class="architecture-diagram" style="text-align: left; padding: 25px;">
                    <div style="margin: 15px 0; display: flex; align-items: center; gap: 20px;">
                        <div class="master-box" style="min-width: 150px;">INNER JOIN</div>
                        <div style="flex: 1; color: #555;">Returns only matching rows from both tables (intersection)</div>
                    </div>
                    <div style="margin: 15px 0; display: flex; align-items: center; gap: 20px;">
                        <div class="master-box" style="min-width: 150px;">LEFT JOIN</div>
                        <div style="flex: 1; color: #555;">All rows from left table + matching rows from right (NULL if no match)</div>
                    </div>
                    <div style="margin: 15px 0; display: flex; align-items: center; gap: 20px;">
                        <div class="master-box" style="min-width: 150px;">RIGHT JOIN</div>
                        <div style="flex: 1; color: #555;">All rows from right table + matching rows from left</div>
                    </div>
                    <div style="margin: 15px 0; display: flex; align-items: center; gap: 20px;">
                        <div class="master-box" style="min-width: 150px;">FULL OUTER</div>
                        <div style="flex: 1; color: #555;">All rows from both tables (NULLs where no match)</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 25: JOIN Examples -->
        <div class="slide" data-slide="25">
            <div class="slide-content">
                <h1>INNER JOIN & LEFT JOIN</h1>
                <div class="subtitle">The most commonly used JOINs</div>
                <div class="content-grid">
                    <div class="section">
                        <div class="section-header">INNER JOIN</div>
                        <div class="code-block" style="font-size: 0.8em; padding: 15px;">SELECT c.customer_id, c.name, o.order_id
FROM customers c
INNER JOIN orders o 
    ON c.customer_id = o.customer_id;</div>
                        <p style="color: #666; margin-top: 10px; font-size: 0.9em;">Only returns customers who have orders</p>
                    </div>
                    <div class="section">
                        <div class="section-header">LEFT JOIN</div>
                        <div class="code-block" style="font-size: 0.8em; padding: 15px;">SELECT c.customer_id, c.name,
       COUNT(o.order_id) as num_orders
FROM customers c
LEFT JOIN orders o 
    ON c.customer_id = o.customer_id
GROUP BY c.customer_id, c.name;</div>
                        <p style="color: #666; margin-top: 10px; font-size: 0.9em;">Returns ALL customers (NULL for those without orders)</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 26: Subqueries & CTEs -->
        <div class="slide" data-slide="26">
            <div class="slide-content">
                <h1>Subqueries & CTEs</h1>
                <div class="subtitle">Queries nested inside other queries</div>
                <div class="content-grid">
                    <div class="section">
                        <div class="section-header">Subquery in WHERE</div>
                        <div class="code-block" style="font-size: 0.8em; padding: 15px;">SELECT customer_id, name
FROM customers
WHERE customer_id IN (
    SELECT customer_id FROM orders
    WHERE total_amount > (
        SELECT AVG(total_amount) FROM orders
    )
);</div>
                    </div>
                    <div class="section">
                        <div class="section-header">CTE (WITH clause)</div>
                        <div class="code-block" style="font-size: 0.8em; padding: 15px;">WITH customer_totals AS (
    SELECT customer_id,
           SUM(total_amount) as total
    FROM orders
    GROUP BY customer_id
)
SELECT * FROM customer_totals
WHERE total > 1000;</div>
                    </div>
                </div>
                <div class="highlight-box" style="margin-top: 20px;">CTEs (Common Table Expressions) make complex queries more readable and maintainable</div>
            </div>
        </div>

        <!-- Slide 27: Window Functions -->
        <div class="slide" data-slide="27">
            <div class="slide-content">
                <h1>Window Functions</h1>
                <div class="subtitle">Perform calculations across sets of rows</div>
                <div class="code-block" style="font-size: 0.95em;">-- ROW_NUMBER: Rank customers by spending
SELECT 
    customer_id,
    SUM(total_amount) as total_spent,
    ROW_NUMBER() OVER (ORDER BY SUM(total_amount) DESC) as rank
FROM orders
GROUP BY customer_id;

-- PARTITION BY: Rank orders within each customer
SELECT 
    customer_id, order_id, order_date, total_amount,
    ROW_NUMBER() OVER (
        PARTITION BY customer_id 
        ORDER BY order_date DESC
    ) as order_recency_rank
FROM orders;</div>
            </div>
        </div>

        <!-- Slide 28: Running Totals -->
        <div class="slide" data-slide="28">
            <div class="slide-content">
                <h1>Running Totals & Moving Averages</h1>
                <div class="subtitle">Powerful window function applications</div>
                <div class="content-grid">
                    <div class="section">
                        <div class="section-header">Running Total</div>
                        <div class="code-block" style="font-size: 0.85em; padding: 15px;">SELECT order_date, total_amount,
    SUM(total_amount) OVER (
        ORDER BY order_date
        ROWS BETWEEN UNBOUNDED PRECEDING 
                 AND CURRENT ROW
    ) as running_total
FROM orders;</div>
                    </div>
                    <div class="section">
                        <div class="section-header">7-Day Moving Average</div>
                        <div class="code-block" style="font-size: 0.85em; padding: 15px;">SELECT order_date,
    SUM(total_amount) as daily_revenue,
    AVG(SUM(total_amount)) OVER (
        ORDER BY order_date
        ROWS BETWEEN 6 PRECEDING 
                 AND CURRENT ROW
    ) as moving_avg_7day
FROM orders GROUP BY order_date;</div>
                    </div>
                </div>
                <div class="highlight-box">Window functions are essential for time-series analysis and advanced analytics</div>
            </div>
        </div>

        <!-- Slide 29: CRUD -->
        <div class="slide" data-slide="29">
            <div class="slide-content">
                <h1>Data Manipulation (CRUD)</h1>
                <div class="subtitle">INSERT, UPDATE, DELETE operations</div>
                <div class="systems-grid">
                    <div class="system-box">
                        <div class="system-title">INSERT - Create</div>
                        <div class="code-block" style="font-size: 0.75em; padding: 10px;">INSERT INTO customers 
  (customer_id, name, email)
VALUES (3, 'Charlie', '<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="ea89aa92c4898587">[email&#160;protected]</a>');

-- Multiple rows
INSERT INTO customers VALUES 
  (4, 'David', '<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f99db981d79a9694">[email&#160;protected]</a>'),
  (5, 'Eve', '<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4623063e6825292b">[email&#160;protected]</a>');</div>
                    </div>
                    <div class="system-box">
                        <div class="system-title">UPDATE - Modify</div>
                        <div class="code-block" style="font-size: 0.75em; padding: 10px;">UPDATE customers
SET city = 'San Francisco'
WHERE customer_id = 1;

UPDATE products
SET price = price * 1.1
WHERE category = 'Electronics';</div>
                    </div>
                    <div class="system-box">
                        <div class="system-title">DELETE - Remove</div>
                        <div class="code-block" style="font-size: 0.75em; padding: 10px;">DELETE FROM customers
WHERE customer_id = 3;

DELETE FROM orders
WHERE order_date < '2020-01-01';

TRUNCATE TABLE temp_table;</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 30: Indexing -->
        <div class="slide" data-slide="30">
            <div class="slide-content">
                <h1>Indexing</h1>
                <div class="subtitle">Speed up queries but slow down writes</div>
                <div class="code-block" style="font-size: 0.95em;">-- Create index on single column
CREATE INDEX idx_customer_email ON customers(email);

-- Create composite index (multiple columns)
CREATE INDEX idx_order_customer_date ON orders(customer_id, order_date);

-- Create unique index
CREATE UNIQUE INDEX idx_email_unique ON customers(email);</div>
                <div class="content-grid" style="margin-top: 25px;">
                    <div class="solution-box">
                        <div class="section-header" style="color: #2e7d32;">‚úÖ Create Indexes On</div>
                        <ul class="item-list">
                            <li>Columns in WHERE clauses</li>
                            <li>Columns used in JOIN conditions</li>
                            <li>Columns used in ORDER BY</li>
                        </ul>
                    </div>
                    <div class="problem-box">
                        <div class="section-header" style="color: #cc0000;">üö´ Avoid Indexes On</div>
                        <ul class="item-list">
                            <li>Small tables (full scan is faster)</li>
                            <li>Low cardinality columns</li>
                            <li>Frequently updated columns</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 31: Key Takeaways -->
        <div class="slide" data-slide="31">
            <div class="slide-content">
                <h1>Key Takeaways</h1>
                <div class="subtitle">What you should remember from Lecture 2</div>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin: 20px 0;">
                    <div class="section">
                        <div class="section-header">1. Normalization Matters</div>
                        <ul class="item-list">
                            <li>Eliminates data redundancy</li>
                            <li>Prevents update/insert/delete anomalies</li>
                            <li>1NF ‚Üí 2NF ‚Üí 3NF progression</li>
                        </ul>
                    </div>
                    <div class="section">
                        <div class="section-header">2. Master SQL Fundamentals</div>
                        <ul class="item-list">
                            <li>SELECT, WHERE, JOIN, GROUP BY</li>
                            <li>These are your bread and butter</li>
                        </ul>
                    </div>
                    <div class="section">
                        <div class="section-header">3. JOINs are Essential</div>
                        <ul class="item-list">
                            <li>INNER, LEFT, RIGHT, FULL OUTER</li>
                            <li>Required for normalized databases</li>
                        </ul>
                    </div>
                    <div class="section">
                        <div class="section-header">4. Window Functions</div>
                        <ul class="item-list">
                            <li>Running totals, ranks, moving averages</li>
                            <li>Advanced analytics capability</li>
                        </ul>
                    </div>
                </div>
                <div class="highlight-box" style="margin-top: 20px; font-size: 1.2em;">Think in sets: SQL operates on sets of rows, not individual records üéØ</div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="navigation">
            <button class="nav-button" id="prevBtn" onclick="changeSlide(-1)">‚Üê Previous</button>
            <span class="slide-counter"><span id="currentSlide">1</span> / 31</span>
            <button class="nav-button" id="nextBtn" onclick="changeSlide(1)">Next ‚Üí</button>
        </div>
    </div>

    <script>
        let currentSlide = 1;
        const totalSlides = 31;
        
        function showSlide(n) {
            const slides = document.querySelectorAll('.slide');
            if (n > totalSlides) currentSlide = totalSlides;
            if (n < 1) currentSlide = 1;
            
            slides.forEach(slide => slide.classList.remove('active'));
            document.querySelector(`[data-slide="${currentSlide}"]`).classList.add('active');
            document.getElementById('currentSlide').textContent = currentSlide;
            
            document.getElementById('prevBtn').disabled = currentSlide === 1;
            document.getElementById('nextBtn').disabled = currentSlide === totalSlides;
        }
        
        function changeSlide(direction) {
            currentSlide += direction;
            showSlide(currentSlide);
        }
        
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' || e.key === ' ') changeSlide(1);
            if (e.key === 'ArrowLeft') changeSlide(-1);
        });
        
        showSlide(currentSlide);
    </script>
</body>
</html>